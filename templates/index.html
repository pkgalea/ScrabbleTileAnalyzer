<html>
    <head>
        <title>Scrabble Rack Comparer</title>
        {% if has_data %}
            {{ js_resources|indent(4)|safe }}
            {{ css_resources|indent(4)|safe }}
            {{ plot_script|indent(4)|safe }}
        {% endif %}
    </head>

    
    <body>
        <h1>Scrabble Rack Compare</h1>

        <form action="{{ url_for('results') }}" method="post">
            Compare a rack with 

            <select name="DDCompare" width="300px">
                {% for c in compares %}
                    <option value="{{ c[1] }}">{{ c[0] }}
                    </option>
                {% endfor %}
            </select>

            <select name="DDCount">
                <option value = 0>0</option>
                <option value = 1>1</option>
                <option value = 2>2</option>
                <option value = 3>3</option>
                <option value = 4>4</option>
                <option value = 5>5</option>
                <option value = 6>6</option>
                <option value = 7>7</option>
            </select>

            <select name="DDLetter" width="300px">
                {% for l in alphabet %}
                    <option value="{{ l }}">{{ l }}</option>
                {% endfor %}
            </select>'s
            <BR>
            <BR>
                    <input class="button1" type="submit" value="GO!">

            <BR>
            <BR>
            {% if has_data %}
                <h2> Data: </h2>
                    <table>

                   <tr><td>&nbsp;</td><td> <B><Control Group: {{control_label | safe}}</B></td><td> <B><Test Group: {{test_label | safe}}</B></td></tr>
                   <tr><td>Sample size:</td><td>{{control_n}}</td><td> {{test_n}} </td></tr>
                   <tr><td>Sample mean:</td><td>{{control_y_bar}}</td><td> {{test_y_bar}} </td></tr>
                   </table>
                       
                    <br>
                <BR>
                <h2>Statistical Inference:</h2>
                Because our sample size is so large, we invoke the central limit theorem and use a two sample z-test to compare means.<BR>
                H0 = The mean of the two populations is the same.<BR>
                H1 = The mean of the two populations is not the same.<BR>

                {% if p_value < 0.05 %}
                    We reject the null hypothesis that the mean score of these groups is the same.
                {% else %}
                    We cannot reject the hypothesis that the mean score of these groups is the same.
                {% endif %}
                <BR>
                p value: {{ p_value }}<BR>
                We can say with 95% confidence that the true mean effect of having {{test_label}} over {{control_label}} on your rack is <h3>[{{ci_lower}}, {{ci_upper}}]</h3> more points.
                 {{ plot_div|indent(4)|safe }}
            {% endif %}
        </form>


    </body>
</html>